---
import SectionHeader from "./SectionHeader.astro";
import CodeBlock from "./CodeBlock.astro";

const pythonExample = `from agentinterface import AgentInterface, components

# Initialize AgentInterface
agent_interface = AgentInterface()

def generate_response(query: str):
    # Create a response with multiple components
    return agent_interface.create_response() \\
        .add(components.Text("Hello! I'm an AI assistant.")) \\
        .add(components.Markdown("Here's some **formatted text** with [links](https://example.com)")) \\
        .add(components.Image(url="https://example.com/image.png", alt="Example image")) \\
        .add(components.Button("Click me", action="button_clicked")) \\
        .to_dict()`;

const javascriptExample = `import { AgentInterface, components } from 'agentinterface';

// Initialize AgentInterface
const agentInterface = new AgentInterface();

function generateResponse(query) {
  // Create a response with multiple components
  return agentInterface.createResponse()
    .add(new components.Text("Hello! I'm an AI assistant."))
    .add(new components.Markdown("Here's some **formatted text** with [links](https://example.com)"))
    .add(new components.Image({
      url: "https://example.com/image.png", 
      alt: "Example image"
    }))
    .add(new components.Button({
      text: "Click me", 
      action: "button_clicked"
    }))
    .toJSON();
}`;

const rendererExample = `import { AgentInterfaceRenderer } from 'agentinterface/react';

function ChatInterface() {
  const [messages, setMessages] = useState([]);
  
  const handleSubmit = async (query) => {
    // Get response from your agent
    const response = await fetchAgentResponse(query);
    
    // Add to messages
    setMessages([...messages, response]);
  };
  
  return (
    <div className="chat-container">
      {messages.map((message, index) => (
        <AgentInterfaceRenderer 
          key={index}
          response={message}
          onAction={handleAction}
        />
      ))}
      <ChatInput onSubmit={handleSubmit} />
    </div>
  );
}`;
---

<section class="bg-gray-900/50 px-6 py-24 sm:px-8 lg:px-16">
	<div class="mx-auto max-w-6xl">
		<SectionHeader
			title="Code Examples"
			subtitle="See how easy it is to use AgentInterface in your projects"
		/>
		
		<div class="grid gap-8 lg:grid-cols-2">
			<div>
				<h3 class="mb-4 text-xl font-semibold text-white">Python</h3>
				<CodeBlock 
					code={pythonExample}
					language="python"
					filename="example.py"
					showLineNumbers={true}
				/>
			</div>
			
			<div>
				<h3 class="mb-4 text-xl font-semibold text-white">JavaScript</h3>
				<CodeBlock 
					code={javascriptExample}
					language="javascript"
					filename="example.js"
					showLineNumbers={true}
				/>
			</div>
		</div>
		
		<div class="mt-12">
			<h3 class="mb-4 text-xl font-semibold text-white">React Renderer</h3>
			<CodeBlock 
				code={rendererExample}
				language="jsx"
				filename="ChatInterface.jsx"
				showLineNumbers={true}
			/>
		</div>
	</div>
</section>